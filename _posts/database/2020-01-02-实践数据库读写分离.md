---
layout: post
categories: 数据库
tags: Database 读写分离
---

主从模式，一般有两个目的，一是保证高可用，另一个是提升性能，比如开启读写分离。

但是有一个问题需要注意，由于主从模式的结构是一摸一样的，如果采用基于类似hash的分库分表（比如按订单号分库分表），由于其目的是为了提升联机交易的性能（比如插入），并没有考虑批量查询的性能，这种情况下的查询可能会检索所有的分库和分表（比如按时间维度查询）。对于这种情况，可能需要提供经过重构处理的数据用于查询，比如后线库或数据仓库。

[Zebra读写分离介绍](https://github.com/Meituan-Dianping/Zebra/wiki/Zebra%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB%E4%BB%8B%E7%BB%8D)